// This file was generated by Lark. https://github.com/Bouke/Lark

import Alamofire
import Foundation
import Lark

//
// MARK: - SOAP Structures
//


//
// MARK: - SOAP Client
//
class TestClient: Client {
    static let defaultEndpoint = URL(string: "http://localhost")!
    override init(endpoint: URL = TestClient.defaultEndpoint, sessionManager: SessionManager = SessionManager()) {
        super.init(endpoint: endpoint, sessionManager: sessionManager)
    }
    @discardableResult func test(_ parameter: String) throws -> String {
        let response = try call(
            action: URL(string: "")!,
            serialize: { envelope in
                let node = XMLElement(prefix: "ns0", localName: "string", uri: "http://www.w3.org/2001/XMLSchema")
                node.addNamespace(XMLNode.namespace(withName: "ns0", stringValue: "http://www.w3.org/2001/XMLSchema") as! XMLNode)
                try parameter.serialize(node)
                envelope.body.addChild(node)
                return envelope
            },
            deserialize: { envelope -> String in
                let node = envelope.body.elements(forLocalName: "string", uri: "http://www.w3.org/2001/XMLSchema").first!
                return try String(deserialize: node)
            })
        return try response.result.resolve()
    }
    @discardableResult func testAsync(_ parameter: String, completionHandler: @escaping (Result<String>) -> Void) -> DataRequest {
        return callAsync(
            action: URL(string: "")!,
            serialize: { envelope in
                let node = XMLElement(prefix: "ns0", localName: "string", uri: "http://www.w3.org/2001/XMLSchema")
                node.addNamespace(XMLNode.namespace(withName: "ns0", stringValue: "http://www.w3.org/2001/XMLSchema") as! XMLNode)
                try parameter.serialize(node)
                envelope.body.addChild(node)
                return envelope
            },
            deserialize: { envelope in
                let node = envelope.body.elements(forLocalName: "string", uri: "http://www.w3.org/2001/XMLSchema").first!
                return try String(deserialize: node)
            },
            completionHandler: completionHandler)
    }
}

