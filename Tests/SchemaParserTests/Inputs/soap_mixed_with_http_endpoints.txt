// This file was generated by Lark. https://github.com/Bouke/Lark

import Alamofire
import Foundation
import Lark

//
// MARK: - SOAP Structures
//
class GetSMSCodesResponse: XMLDeserializable {
    let getSMSCodesResult: String?
    init(getSMSCodesResult: String? = nil) {
        self.getSMSCodesResult = getSMSCodesResult
    }
    required init(deserialize element: XMLElement) throws {
        do {
            if let node = element.elements(forLocalName: "GetSMSCodesResult", uri: "http://tempuri.org/").first {
                self.getSMSCodesResult = try String(deserialize: node)
            } else {
                self.getSMSCodesResult = nil
            }
        }
    }
    func serialize(_ element: XMLElement) throws {
        if let getSMSCodesResult = getSMSCodesResult {
            let getSMSCodesResultNode = element.createChildElement(localName: "GetSMSCodesResult", uri: "http://tempuri.org/")
            try getSMSCodesResult.serialize(getSMSCodesResultNode)
        }
    }
}

class GetSMSCodes: XMLDeserializable {
    let identifier: String?
    init(identifier: String? = nil) {
        self.identifier = identifier
    }
    required init(deserialize element: XMLElement) throws {
        do {
            if let node = element.elements(forLocalName: "identifier", uri: "http://tempuri.org/").first {
                self.identifier = try String(deserialize: node)
            } else {
                self.identifier = nil
            }
        }
    }
    func serialize(_ element: XMLElement) throws {
        if let identifier = identifier {
            let identifierNode = element.createChildElement(localName: "identifier", uri: "http://tempuri.org/")
            try identifier.serialize(identifierNode)
        }
    }
}

typealias StringType = String?

//
// MARK: - SOAP Client
//
class ExampleClient: Client {
    static let defaultEndpoint = URL(string: "http://tempuri.org/Example.asmx")!
    override init(endpoint: URL = ExampleClient.defaultEndpoint, sessionManager: SessionManager = SessionManager()) {
        super.init(endpoint: endpoint, sessionManager: sessionManager)
    }
    @discardableResult func getSMSCodes(_ parameter: GetSMSCodes) throws -> GetSMSCodesResponse {
        let response = try call(
            action: URL(string: "http://tempuri.org/GetSMSCodes")!,
            serialize: { envelope in
                let node = XMLElement(prefix: "ns0", localName: "GetSMSCodes", uri: "http://tempuri.org/")
                node.addNamespace(XMLNode.namespace(withName: "ns0", stringValue: "http://tempuri.org/") as! XMLNode)
                try parameter.serialize(node)
                envelope.body.addChild(node)
                return envelope
            },
            deserialize: { envelope -> GetSMSCodesResponse in
                let node = envelope.body.elements(forLocalName: "GetSMSCodesResponse", uri: "http://tempuri.org/").first!
                return try GetSMSCodesResponse(deserialize: node)
            })
        return try response.result.resolve()
    }
    @discardableResult func getSMSCodesAsync(_ parameter: GetSMSCodes, completionHandler: @escaping (Result<GetSMSCodesResponse>) -> Void) -> DataRequest {
        return callAsync(
            action: URL(string: "http://tempuri.org/GetSMSCodes")!,
            serialize: { envelope in
                let node = XMLElement(prefix: "ns0", localName: "GetSMSCodes", uri: "http://tempuri.org/")
                node.addNamespace(XMLNode.namespace(withName: "ns0", stringValue: "http://tempuri.org/") as! XMLNode)
                try parameter.serialize(node)
                envelope.body.addChild(node)
                return envelope
            },
            deserialize: { envelope in
                let node = envelope.body.elements(forLocalName: "GetSMSCodesResponse", uri: "http://tempuri.org/").first!
                return try GetSMSCodesResponse(deserialize: node)
            },
            completionHandler: completionHandler)
    }
}

