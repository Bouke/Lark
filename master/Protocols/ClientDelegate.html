<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ClientDelegate Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/ClientDelegate" class="dashAnchor"></a>
    <a title="ClientDelegate Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Lark Docs</a> (39% documented)</p>
        <p class="header-right"><a href="https://github.com/Bouke/Lark"><img src="../img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://http%3A%2F%2Fboukehaarsma%2Enl%2FLark%2FLark%2Exml"><img src="../img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Lark Reference</a>
        <img id="carat" src="../img/carat.png" />
        ClientDelegate Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Client.html">Client</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/Client.html">Client</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ClientDelegate.html">ClientDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Envelope.html">Envelope</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Header.html">Header</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Fault.html">Fault</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ServerError.html">ServerError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Serialization.html">Serialization</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/HeaderSerializable.html">HeaderSerializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/StringSerializable.html">StringSerializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/StringSerializableList.html">StringSerializableList</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/StringDeserializable.html">StringDeserializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/XMLSerializable.html">XMLSerializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/XMLDeserializable.html">XMLDeserializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/XMLSerializationError.html">XMLSerializationError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/XMLDeserializationError.html">XMLDeserializationError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Base Types.html">Base Types</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/AnyType.html">AnyType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Decimal.html">Decimal</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Float.html">Float</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int8.html">Int8</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int16.html">Int16</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int32.html">Int32</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Int64.html">Int64</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt8.html">UInt8</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt16.html">UInt16</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt32.html">UInt32</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/UInt64.html">UInt64</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/URL.html">URL</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Result.html">Result</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../XML Tooling.html">XML Tooling</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../XML Tooling.html#/s:v4Lark16NS_SOAP_ENVELOPESS">NS_SOAP_ENVELOPE</a>
              </li>
              <li class="nav-group-task">
                <a href="../XML Tooling.html#/s:v4Lark6NS_XSISS">NS_XSI</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/QualifiedName.html">QualifiedName</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/QualifiedName/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/XMLElement.html">XMLElement</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/XMLNode.html">XMLNode</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ClientDelegate</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ClientDelegate</span><span class="p">:</span> <span class="kd">class</span></code></pre>

                </div>
              </div>
            <p>Client delegate protocol. Can be used to inspect incoming and outgoing messages.</p>

<p>For example the following example shows how to print incoming and outgoing messages to
standard output. You can adapt this code to log full message bodies to your logging 
facility. The response completion handler must be scheduled on the global queue if there
is no runloop (e.g. CLI applications).</p>

<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">Logger</span><span class="p">:</span> <span class="kt">ClientDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">client</span><span class="p">(</span><span class="n">_</span> <span class="nv">client</span><span class="p">:</span> <span class="kt">Client</span><span class="p">,</span> <span class="n">didSend</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">DataRequest</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">httpRequest</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">request</span><span class="p">,</span> <span class="k">let</span> <span class="nv">identifier</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">task</span><span class="p">?</span><span class="o">.</span><span class="n">taskIdentifier</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"[</span><span class="se">\(</span><span class="n">identifier</span><span class="se">)</span><span class="s">] &gt; </span><span class="se">\(</span><span class="n">httpRequest</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">httpRequest</span><span class="o">.</span><span class="n">httpBody</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="n">request</span><span class="o">.</span><span class="nf">response</span><span class="p">(</span><span class="nv">queue</span><span class="p">:</span> <span class="kt">DispatchQueue</span><span class="o">.</span><span class="nf">global</span><span class="p">(</span><span class="nv">qos</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">httpResponse</span> <span class="o">=</span> <span class="nv">$0</span><span class="o">.</span><span class="n">response</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"[</span><span class="se">\(</span><span class="n">identifier</span><span class="se">)</span><span class="s">] &lt; </span><span class="se">\(</span><span class="n">httpResponse</span><span class="o">.</span><span class="n">statusCode</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="nv">$0</span><span class="o">.</span><span class="n">data</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP4Lark14ClientDelegate6clientFTCS_6Client7didSendC9Alamofire11DataRequest_T_"></a>
                    <a name="//apple_ref/swift/Method/client(_:didSend:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP4Lark14ClientDelegate6clientFTCS_6Client7didSendC9Alamofire11DataRequest_T_">client(_:didSend:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Will be called when a request has been sent. To see the response to the message,
append a response handler; e.g. <code>request.response { ... }</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">client</span><span class="p">(</span><span class="nv">_</span><span class="p">:</span> <span class="kt"><a href="../Classes/Client.html">Client</a></span><span class="p">,</span> <span class="n">didSend</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">DataRequest</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://twitter.com/BoukeHaarsma" target="_blank" rel="external">Bouke Haarsma</a>. All rights reserved. (Last updated: 2017-02-05)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
